/*! For license information please see editor.js.LICENSE.txt */
(()=>{var e={8294:e=>{e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},2402:e=>{function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},5235:(e,t)=>{var n;!function(){"use strict";var i={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var c=typeof n;if("string"===c||"number"===c)e.push(n);else if(Array.isArray(n)){if(n.length){var s=r.apply(null,n);s&&e.push(s)}}else if("object"===c)if(n.toString===Object.prototype.toString)for(var a in n)i.call(n,a)&&n[a]&&e.push(a);else e.push(n.toString())}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},5460:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={iconWrapper:"sDAzdUdcbaYmUMZBe2XW","star-icon":"cuoSlhSNrqf1dozY22Xb",jetpack:"lAIiifeLMmZAPlQ9n9ZR","checkmark-icon":"JLquNpQVlysAamuh5lJO",socialIcon:"cbOwD8Y4tFjwimmtchQI",facebook:"aHOlEBGD5EA8NKRw3xTw",twitter:"af4Y_zItXvLAOEoSDPSv",linkedin:"f68aqF3XSD1OBvXR1get",tumblr:"xFI0dt3UiXRlRQdqPWkx",google:"q7JEoyymveP6kF747M43"}},1853:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={"connection-container":"KQcQQLxH5fI08DfOlKwL","connection-toggle":"GkSdCYn_REWEdI_aqvQk"}},5631:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={"connections-list":"Ua6eKcnk_tQQpFlgXMSn","components-notice":"SHqrIEguRfCILRHPyxE9"}},8619:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={"add-connection-wrapper":"xwd1zFILyAv6XzDjevFA"}},8161:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={"publicize-notice":"__nV49on4_ijaV8Brnsw","components-notice":"zZ3Pu7E87XyYIdPR2WTt","components-button":"fLC8AaLf3xcKaoJ4Opax"}},469:(e,t,n)=>{"use strict";var i=n(758);function r(){}function c(){}c.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,c,s){if(s!==i){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:c,resetWarningCache:r};return n.PropTypes=n,n}},5162:(e,t,n)=>{e.exports=n(469)()},758:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},671:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(5162),r=n.n(i),c=n(9196),s=n.n(c),a=n(9905),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function l(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isSupported:a.Gb&&a.WD},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){this.state.isSupported&&(this.handleVisibilityChange=this.handleVisibilityChange.bind(this),document.addEventListener(a.WD.event,this.handleVisibilityChange))}},{key:"componentWillUnmount",value:function(){this.state.isSupported&&document.removeEventListener(a.WD.event,this.handleVisibilityChange)}},{key:"handleVisibilityChange",value:function(){var e;"function"==typeof this.props.onChange&&(e=this.props).onChange.apply(e,l((0,a.XO)()));"function"==typeof this.props.children&&this.forceUpdate()}},{key:"render",value:function(){return this.props.children?"function"==typeof this.props.children?this.state.isSupported?(e=this.props).children.apply(e,l((0,a.XO)())):this.props.children():s().Children.only(this.props.children):null;var e}}]),t}(s().Component);u.displayName="PageVisibility",u.propTypes={onChange:r().func,children:r().oneOfType([r().node,r().func])};const p=u},105:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=n(671).Z},9905:(e,t,n)=>{"use strict";n.d(t,{Gb:()=>c,WD:()=>s,XO:()=>a});var i="undefined"!=typeof document,r=[{hidden:"hidden",event:"visibilitychange",state:"visibilityState"},{hidden:"webkitHidden",event:"webkitvisibilitychange",state:"webkitVisibilityState"},{hidden:"mozHidden",event:"mozvisibilitychange",state:"mozVisibilityState"},{hidden:"msHidden",event:"msvisibilitychange",state:"msVisibilityState"},{hidden:"oHidden",event:"ovisibilitychange",state:"oVisibilityState"}],c=i&&Boolean(document.addEventListener),s=function(){if(!c)return null;var e=!0,t=!1,n=void 0;try{for(var i,s=r[Symbol.iterator]();!(e=(i=s.next()).done);e=!0){var a=i.value;if(a.hidden in document)return a}}catch(e){t=!0,n=e}finally{try{!e&&s.return&&s.return()}finally{if(t)throw n}}return null}(),a=function(){if(!s)return[!0,"visible"];var e=s.hidden,t=s.state;return[!document[e],document[t]]}},4274:e=>{"use strict";function t(e,n){var i;if(Array.isArray(n))for(i=0;i<n.length;i++)t(e,n[i]);else for(i in n)e[i]=(e[i]||[]).concat(n[i])}e.exports=function(e){var n,i={};return t(i,e),(n=function(e){return function(t){return function(n){var r,c,s=i[n.type],a=t(n);if(s)for(r=0;r<s.length;r++)(c=s[r](n,e))&&e.dispatch(c);return a}}}).effects=i,n}},1020:(e,t,n)=>{"use strict";n.d(t,{QZ:()=>d,av:()=>b});var i=n(2402),r=n.n(i),c=n(5609),s=n(5235),a=n.n(s),o=n(9196),l=n.n(o),u=n(5460);function p(e){let{className:t,size:n=24,viewBox:i="0 0 24 24",opacity:s=1,color:o,children:p}=e;const d={className:a()(u.Z.iconWrapper,t),width:n,height:n,viewBox:i,opacity:s};return o&&(d.fill=o),l().createElement(c.SVG,r()({},d,{fillRule:"evenodd",clipRule:"evenodd",xmlns:"http://www.w3.org/2000/svg"}),l().createElement(c.G,{opacity:s},p))}const d=e=>{let{opacity:t=1,size:n}=e;return l().createElement(p,{size:n,opacity:t},l().createElement(c.Path,{d:"M15.5 3.97809V18.0219L7.5 15.5977V20H6V15.1431L3.27498 14.3173C2.22086 13.9979 1.5 13.0262 1.5 11.9248V10.0752C1.5 8.97375 2.22087 8.00207 3.27498 7.68264L15.5 3.97809ZM14 16L7.5 14.0303L7.5 7.96969L14 5.99999V16ZM6 8.42423L6 13.5757L3.70999 12.8818C3.28835 12.754 3 12.3654 3 11.9248V10.0752C3 9.63462 3.28835 9.24595 3.70999 9.11818L6 8.42423ZM17.5 11.75H21.5V10.25H17.5V11.75ZM21.5 16L17.5 15V13.5L21.5 14.5V16ZM17.5 8.5L21.5 7.5V6L17.5 7V8.5Z"}))};function h(e){let{className:t,fill:n="none",size:i,children:r}=e;return l().createElement(p,{className:a()(u.Z.socialIcon,t),size:i,fill:n},r)}const m={"anti-spam":e=>{let{opacity:t=1,size:n}=e;return l().createElement(p,{size:n,opacity:t},l().createElement(c.Path,{d:"m8.455 21.207 8-17.5-.91-.416-1.261 2.76A4.979 4.979 0 0 0 12 5.5c-1.062 0-2.046.33-2.855.895L7.19 4.44 6.13 5.5l1.926 1.927A4.975 4.975 0 0 0 7.025 10H5v1.5h2V13H5v1.5h2.1a5.001 5.001 0 0 0 1.937 3.028L7.545 20.79l.91.416ZM9.68 16.12A3.492 3.492 0 0 1 8.5 13.5v-3a3.5 3.5 0 0 1 5.159-3.083L9.68 16.121Zm5.675-6.62.81-1.77c.44.663.728 1.436.81 2.269H19v1.5h-2V13h2v1.5h-2.1a5.002 5.002 0 0 1-5.634 3.947l.662-1.448L12 17a3.5 3.5 0 0 0 3.5-3.5v-3a3.5 3.5 0 0 0-.145-.998Z"}))},backup:e=>{let{opacity:t=1,size:n}=e;return l().createElement(p,{size:n,opacity:t},l().createElement(c.Path,{d:"m15.82 11.373.013-1.277v-.03c0-1.48-1.352-2.9-3.3-2.9-1.627 0-2.87 1.015-3.205 2.208l-.32 1.143-1.186-.048a2.192 2.192 0 0 0-.089-.002c-1.19 0-2.233 1.008-2.233 2.35 0 1.34 1.04 2.348 2.23 2.35H16.8c.895 0 1.7-.762 1.7-1.8 0-.927-.649-1.643-1.423-1.777l-1.258-.217ZM7.883 8.97l-.15-.003C5.67 8.967 4 10.69 4 12.817c0 2.126 1.671 3.85 3.733 3.85H16.8c1.767 0 3.2-1.478 3.2-3.3 0-1.635-1.154-2.993-2.667-3.255v-.045c0-2.43-2.149-4.4-4.8-4.4-2.237 0-4.118 1.403-4.65 3.303Z",fill:"#000"}))},boost:e=>{let{opacity:t=1,size:n}=e;return l().createElement(p,{size:n,opacity:t},l().createElement(c.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M4.19505 16.2545C4.47368 16.561 4.94802 16.5836 5.25451 16.3049L10.2595 11.7549L14.2842 15.2765L19 10.5607V13.75H20.5V9.5V8.75239V8.7476V8H19.7529H19.7471H19H14.75V9.5H17.9393L14.2158 13.2235L10.2405 9.74507L4.2455 15.195C3.93901 15.4737 3.91642 15.948 4.19505 16.2545Z"}))},crm:e=>{let{opacity:t=1,size:n}=e;return l().createElement(p,{size:n,opacity:t},l().createElement(c.Path,{d:"M15.5 9.5a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm0 1.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Zm-2.25 6v-2a2.75 2.75 0 0 0-2.75-2.75h-4A2.75 2.75 0 0 0 3.75 15v2h1.5v-2c0-.69.56-1.25 1.25-1.25h4c.69 0 1.25.56 1.25 1.25v2h1.5Zm7-2v2h-1.5v-2c0-.69-.56-1.25-1.25-1.25H15v-1.5h2.5A2.75 2.75 0 0 1 20.25 15ZM9.5 8.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm1.5 0a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0Z"}))},extras:e=>{let{opacity:t=1,size:n}=e;return l().createElement(p,{size:n,opacity:t},l().createElement(c.Path,{d:"M18.5 5.5V8H20V5.5h2.5V4H20V1.5h-1.5V4H16v1.5h2.5ZM12 4H6a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-6h-1.5v6a.5.5 0 0 1-.5.5H6a.5.5 0 0 1-.5-.5V6a.5.5 0 0 1 .5-.5h6V4Z"}))},protect:e=>{let{opacity:t=1,size:n,className:i}=e;return l().createElement(p,{className:i,size:n,opacity:t},l().createElement(c.Path,{d:"M12 3.17627L18.75 6.24445V10.8183C18.75 14.7173 16.2458 18.4089 12.7147 19.5735C12.2507 19.7265 11.7493 19.7265 11.2853 19.5735C7.75416 18.4089 5.25 14.7173 5.25 10.8183V6.24445L12 3.17627ZM6.75 7.21032V10.8183C6.75 14.1312 8.89514 17.2057 11.7551 18.149C11.914 18.2014 12.086 18.2014 12.2449 18.149C15.1049 17.2057 17.25 14.1312 17.25 10.8183V7.21032L12 4.82396L6.75 7.21032Z"}),l().createElement(c.Path,{d:"M15.5291 10.0315L11.1818 14.358L8.47095 11.66L9.52907 10.5968L11.1818 12.2417L14.4709 8.96826L15.5291 10.0315Z"}))},scan:e=>{let{opacity:t=1,size:n}=e;return l().createElement(p,{size:n,opacity:t},l().createElement(c.Path,{d:"m12 3.176 6.75 3.068v4.574c0 3.9-2.504 7.59-6.035 8.755a2.283 2.283 0 0 1-1.43 0c-3.53-1.164-6.035-4.856-6.035-8.755V6.244L12 3.176ZM6.75 7.21v3.608c0 3.313 2.145 6.388 5.005 7.33.159.053.331.053.49 0 2.86-.942 5.005-4.017 5.005-7.33V7.21L12 4.824 6.75 7.21Z"}))},search:e=>{let{opacity:t=1,size:n}=e;return l().createElement(p,{size:n,opacity:t},l().createElement(c.Path,{d:"M17.5 11.5a4 4 0 1 1-8 0 4 4 0 0 1 8 0Zm1.5 0a5.5 5.5 0 0 1-9.142 4.121l-3.364 2.943-.988-1.128 3.373-2.952A5.5 5.5 0 1 1 19 11.5Z"}))},social:d,star:e=>{let{size:t,className:n=u.Z["star-icon"]}=e;return l().createElement(p,{className:n,size:t},l().createElement(c.Path,{d:"M12 2l2.582 6.953L22 9.257l-5.822 4.602L18.18 21 12 16.89 5.82 21l2.002-7.14L2 9.256l7.418-.304"}))},videopress:e=>{let{opacity:t=1,size:n}=e;return l().createElement(p,{size:n,opacity:t},l().createElement(c.Path,{d:"M5.286 4.5h13.428c.434 0 .786.352.786.786v13.428a.786.786 0 0 1-.786.786H5.286a.786.786 0 0 1-.786-.786V5.286c0-.434.352-.786.786-.786ZM3 5.286A2.286 2.286 0 0 1 5.286 3h13.428A2.286 2.286 0 0 1 21 5.286v13.428A2.286 2.286 0 0 1 18.714 21H5.286A2.286 2.286 0 0 1 3 18.714V5.286ZM15 12l-5-3v6l5-3Z"}))},jetpack:e=>{let{size:t,className:n=u.Z.jetpack}=e;return l().createElement(p,{className:n,size:t,viewBox:"0 0 32 32"},l().createElement(c.Path,{className:"jetpack-logo__icon-circle",d:"M16,0C7.2,0,0,7.2,0,16s7.2,16,16,16s16-7.2,16-16S24.8,0,16,0z"}),l().createElement(c.Polygon,{fill:"#fff",points:"15,19 7,19 15,3"}),l().createElement(c.Polygon,{fill:"#fff",points:"17,29 17,13 25,13"}))},facebook:e=>{let{fill:t,size:n,className:i}=e;return l().createElement(h,{fill:t,size:n,className:a()(u.Z.facebook,i)},l().createElement(c.Path,{d:"M12,2C6.5,2,2,6.5,2,12c0,5,3.7,9.1,8.4,9.9v-7H7.9V12h2.5V9.8c0-2.5,1.5-3.9,3.8-3.9c1.1,0,2.2,0.2,2.2,0.2v2.5h-1.3 c-1.2,0-1.6,0.8-1.6,1.6V12h2.8l-0.4,2.9h-2.3v7C18.3,21.1,22,17,22,12C22,6.5,17.5,2,12,2z"}))},twitter:e=>{let{fill:t,size:n,className:i}=e;return l().createElement(h,{fill:t,size:n,className:a()(u.Z.twitter,i)},l().createElement(c.Path,{d:"M19,3H5C3.895,3,3,3.895,3,5v14c0,1.105,0.895,2,2,2h14c1.105,0,2-0.895,2-2V5C21,3.895,20.105,3,19,3z M16.466,9.71 c0.004,0.099,0.007,0.198,0.007,0.298c0,3.045-2.318,6.556-6.556,6.556c-1.301,0-2.512-0.381-3.532-1.035 c0.18,0.021,0.364,0.032,0.55,0.032c1.079,0,2.073-0.368,2.862-0.986c-1.008-0.019-1.859-0.685-2.152-1.6 c0.141,0.027,0.285,0.041,0.433,0.041c0.21,0,0.414-0.028,0.607-0.081c-1.054-0.212-1.848-1.143-1.848-2.259 c0-0.01,0-0.019,0-0.029c0.311,0.173,0.666,0.276,1.044,0.288c-0.618-0.413-1.025-1.118-1.025-1.918 c0-0.422,0.114-0.818,0.312-1.158c1.136,1.394,2.834,2.311,4.749,2.407c-0.039-0.169-0.06-0.344-0.06-0.525 c0-1.272,1.032-2.304,2.304-2.304c0.663,0,1.261,0.28,1.682,0.728c0.525-0.103,1.018-0.295,1.463-0.559 c-0.172,0.538-0.537,0.99-1.013,1.275c0.466-0.056,0.91-0.18,1.323-0.363C17.306,8.979,16.916,9.385,16.466,9.71z"}))},linkedin:e=>{let{fill:t,size:n,className:i}=e;return l().createElement(h,{fill:t,size:n,className:a()(u.Z.linkedin,i)},l().createElement(c.Path,{d:"M19.7 3H4.3C3.582 3 3 3.582 3 4.3v15.4c0 .718.582 1.3 1.3 1.3h15.4c.718 0 1.3-.582 1.3-1.3V4.3c0-.718-.582-1.3-1.3-1.3zM8.34 18.338H5.666v-8.59H8.34v8.59zM7.003 8.574c-.857 0-1.55-.694-1.55-1.548 0-.855.692-1.548 1.55-1.548.854 0 1.547.694 1.547 1.548 0 .855-.692 1.548-1.546 1.548zm11.335 9.764h-2.67V14.16c0-.995-.017-2.277-1.387-2.277-1.39 0-1.6 1.086-1.6 2.206v4.248h-2.668v-8.59h2.56v1.174h.036c.357-.675 1.228-1.387 2.527-1.387 2.703 0 3.203 1.78 3.203 4.092v4.71z"}))},tumblr:e=>{let{fill:t,size:n,className:i}=e;return l().createElement(h,{fill:t,size:n,className:a()(u.Z.tumblr,i)},l().createElement(c.Path,{d:"M19 3H5c-1.105 0-2 .895-2 2v14c0 1.105.895 2 2 2h14c1.105 0 2-.895 2-2V5c0-1.105-.895-2-2-2zm-5.57 14.265c-2.445.042-3.37-1.742-3.37-2.998V10.6H8.922V9.15c1.703-.615 2.113-2.15 2.21-3.026.006-.06.053-.084.08-.084h1.645V8.9h2.246v1.7H12.85v3.495c.008.476.182 1.13 1.08 1.107.3-.008.698-.094.907-.194l.54 1.6c-.205.297-1.12.642-1.946.657z"}))},google:e=>{let{fill:t,size:n,className:i}=e;return l().createElement(h,{fill:t,size:n,className:a()(u.Z.google,i)},l().createElement(c.Path,{d:"M12.02 10.18v3.73h5.51c-.26 1.57-1.67 4.22-5.5 4.22-3.31 0-6.01-2.75-6.01-6.12s2.7-6.12 6.01-6.12c1.87 0 3.13.8 3.85 1.48l2.84-2.76C16.99 2.99 14.73 2 12.03 2c-5.52 0-10 4.48-10 10s4.48 10 10 10c5.77 0 9.6-4.06 9.6-9.77 0-.83-.11-1.42-.25-2.05h-9.36z"}))}};const b=e=>{let{serviceName:t,className:n}=e;const i=m[r=t]?m[r]:null;var r;return i?l().createElement(i,{className:n}):null}},4356:(e,t,n)=>{"use strict";n.d(t,{M1:()=>a.M,dZ:()=>r.Z,ew:()=>i.Z,l0:()=>c.Z,oL:()=>s.Z});n(7771);var i=n(4277),r=n(9021),c=n(5788),s=(n(8407),n(3609),n(7568)),a=(n(8751),n(6419))},5761:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(1020),r=n(9307),c=n(5162),s=n.n(c);const a=e=>{const{id:t,serviceName:n,label:c,profilePicture:s}=e,[a,o]=(0,r.useState)(!!s),l=(0,r.useCallback)((()=>o(!1)),[]);return React.createElement("label",{htmlFor:t,className:"jetpack-publicize-connection-label"},React.createElement("div",{className:a?"components-connection-icon__picture":""},a&&React.createElement("img",{src:s,alt:c,onError:l}),React.createElement(i.av,{serviceName:n,className:"jetpack-publicize-gutenberg-social-icon"})),React.createElement("span",{className:"jetpack-publicize-connection-label-copy"},c))};a.propTypes={id:s().string.isRequired,serviceName:s().string,label:s().string,profilePicture:s().string};const o=a},4479:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(5609),r=n(5235),c=n.n(r),s=n(5162),a=n.n(s),o=n(5761);const l=e=>{const{className:t,checked:n,id:r,disabled:s,onChange:a,serviceName:l,label:u,profilePicture:p}=e,d=c()("components-connection-toggle",{"is-not-checked":!n,"is-disabled":s});return React.createElement("div",{className:d},React.createElement(o.Z,{id:r,serviceName:l,label:u,profilePicture:p}),React.createElement(i.FormToggle,{id:r,className:t,checked:n,onChange:a,disabled:s}))};l.propTypes={className:a().string,checked:a().bool,id:a().string.isRequired,disabled:a().bool,onChange:a().func,serviceName:a().string,label:a().string,profilePicture:a().string};const u=l},9021:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(8294),r=n.n(i),c=n(5609),s=n(4333),a=n(9818),o=n(9307),l=n(5736);const __=l.__;class u extends o.Component{constructor(){super(...arguments),r()(this,"refreshConnectionClick",(e=>{const{href:t,title:n}=e.target;e.preventDefault();const i=window.open(t,n,""),r=window.setInterval((()=>{!1!==i.closed&&(window.clearInterval(r),this.props.refreshConnections())}),500)}))}componentDidMount(){this.props.refreshConnections()}renderRefreshableConnections(){const{failedConnections:e}=this.props,t=e.filter((e=>e.can_refresh));return t.length?React.createElement(c.Notice,{className:"jetpack-publicize-notice",isDismissible:!1,status:"error"},React.createElement("p",null,__("Before you hit Publish, please refresh the following connection(s) to make sure we can Publicize your post:","jetpack-social")),t.map((e=>React.createElement(c.Button,{href:e.refresh_url,isSmall:!0,key:e.id,onClick:this.refreshConnectionClick,title:e.refresh_text},e.refresh_text)))):null}renderNonRefreshableConnections(){const{failedConnections:e}=this.props,t=e.filter((e=>!e.can_refresh));return t.length?t.map((e=>React.createElement(c.Notice,{className:"jetpack-publicize-notice",isDismissible:!1,status:"error"},React.createElement("p",null,e.test_message)))):null}render(){return React.createElement(o.Fragment,null,this.renderRefreshableConnections(),this.renderNonRefreshableConnections())}}const p=(0,s.compose)([(0,a.withSelect)((e=>({failedConnections:e("jetpack/publicize").getFailedConnections()}))),(0,a.withDispatch)((e=>({refreshConnections:e("jetpack/publicize").refreshConnectionTestResults})))])(u)},4277:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var i=n(8294),r=n.n(i),c=n(3419),s=n(5609),a=n(9818),o=n(9307),l=n(5736),u=n(2819),p=n(4479),d=n(8161),h=n(1853);const __=l.__;class m extends o.Component{constructor(){super(...arguments),r()(this,"maybeDisplayLinkedInNotice",(()=>this.connectionNeedsReauth()&&React.createElement(s.Notice,{className:d.Z["publicize-notice"],isDismissible:!1,status:"error"},React.createElement("p",null,__("Your LinkedIn connection needs to be reauthenticated to continue working – head to Sharing to take care of it.","jetpack-social")),React.createElement(s.ExternalLink,{href:`https://wordpress.com/marketing/connections/${(0,c.lQ)()}`},__("Go to Sharing settings","jetpack-social"))))),r()(this,"connectionNeedsReauth",(()=>(0,u.includes)(this.props.mustReauthConnections,this.props.name))),r()(this,"onConnectionChange",(()=>{const{id:e}=this.props;this.props.toggleConnection(e)}))}connectionIsFailing(){const{failedConnections:e,name:t}=this.props;return e.some((e=>e.service_name===t))}render(){const{disabled:e,enabled:t,id:n,label:i,name:r,profilePicture:c}=this.props,s="connection-"+r+"-"+n,a=r.replace("_","-"),o=React.createElement(p.Z,{id:s,className:h.Z["connection-toggle"],checked:t,onChange:this.onConnectionChange,disabled:e||this.connectionIsFailing()||this.connectionNeedsReauth(),serviceName:a,label:i,profilePicture:c});return React.createElement("li",null,this.maybeDisplayLinkedInNotice(),React.createElement("div",{className:h.Z["connection-container"]},o))}}const b=(0,a.withSelect)((e=>({failedConnections:e("jetpack/publicize").getFailedConnections(),mustReauthConnections:e("jetpack/publicize").getMustReauthConnections()})))(m)},5788:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(4356),r=n(5609),c=n(9307),s=n(7568),a=n(8751),o=n(1961),l=n(9709),u=n(5631);function p(e){let{isPublicizeEnabled:t,isRePublicizeFeatureEnabled:n,isPublicizeDisabledBySitePlan:p}=e;const{connections:d,toggleById:h,hasConnections:m}=(0,s.Z)(),{message:b,updateMessage:f,maxLength:g}=(0,a.Z)(),w=p?r.Disabled:c.Fragment;return React.createElement(w,null,m&&React.createElement(r.PanelRow,null,React.createElement("ul",{className:u.Z["connections-list"]},d.map((e=>{let{display_name:r,enabled:c,id:s,service_name:a,toggleable:o,profile_picture:l}=e;return React.createElement(i.ew,{disabled:n?!t:!o,enabled:c&&!p,key:s,id:s,label:r,name:a,toggleConnection:h,profilePicture:l})})))),!p&&React.createElement(c.Fragment,null,React.createElement(l.Z,null),t&&d.some((e=>e.enabled))&&React.createElement(o.Z,{disabled:!n&&d.every((e=>!e.toggleable)),maxLength:g,onChange:f,message:b})))}},1961:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(5609),r=n(5736);const __=r.__,_n=r._n;function c(e){let{message:t="",onChange:n,disabled:c,maxLength:s}=e;const a=s-t.length;return React.createElement(i.TextareaControl,{value:t,onChange:n,disabled:c,maxLength:s,placeholder:__("Write a message for your audience here.","jetpack-social"),rows:4,help:(0,r.sprintf)(
/* translators: placeholder is a number. */
_n("%d character remaining","%d characters remaining",a,"jetpack-social"),a)})}},9709:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(3419),r=n(5609),c=n(5736),s=n(2819),a=n(105),o=n(7568),l=n(8619);const __=c.__;function u(){const{refresh:e}=(0,o.Z)(),t=(0,i.lQ)(),n=(0,s.debounce)((function(t){t&&e()}),2e3),c=(0,i.Pb)()?.publicizeConnectionsUrl??"https://wordpress.com/marketing/connections/",u=t?`${c}${t}`:"options-general.php?page=sharing&publicize_popup=true";return React.createElement(a.Z,{onChange:n},React.createElement("div",{className:l.Z["add-connection-wrapper"]},React.createElement(r.ExternalLink,{href:u,target:"_blank"},__("Connect an account","jetpack-social"))))}},8407:(e,t,n)=>{"use strict";n.d(t,{H8:()=>o,nE:()=>a});var i=n(4333),r=n(9818),c=n(2694),s=n(6797);const a={"core/gallery":{contentAttributes:["images"]},"core/heading":{contentAttributes:["content"]},"core/image":{contentAttributes:["alt","url"]},"core/list":{contentAttributes:["values"]},"core/paragraph":{contentAttributes:["content"]},"core/quote":{contentAttributes:["value","citation"]},"core/separator":{contentAttributes:[]},"core/spacer":{contentAttributes:[]},"core/verse":{contentAttributes:["content"]},"core/video":{contentAttributes:["src"]},"core/embed":{contentAttributes:["url"]},"jetpack/gif":{contentAttributes:["giphyUrl"]}},o=["core/column","core/columns","core/group"];(0,c.addFilter)("blocks.registerBlockType","jetpack/publishing-tweetstorms",(e=>{const{edit:t}=e;return{...e,edit:e=>React.createElement(s.Z,{ChildEdit:t,childProps:e})}}));(0,i.compose)([(0,r.withSelect)((e=>({isTweetStorm:e("jetpack/publicize").isTweetStorm(),isTyping:e("core/block-editor").isTyping()})))])((e=>{let{isTweetStorm:t,isTyping:n}=e;return t?document.body.classList.add("jetpack-tweetstorm"):document.body.classList.remove("jetpack-tweetstorm"),t&&n?document.body.classList.add("jetpack-tweetstorm-is-typing"):document.body.classList.remove("jetpack-tweetstorm-is-typing"),null}))},3609:(e,t,n)=>{"use strict";var i=n(5609),r=n(4333),c=n(9818),s=n(9307),a=n(5736);n(2998);const __=a.__;(0,r.compose)([(0,c.withSelect)((e=>{const{isTweetStorm:t,getTweetStorm:n}=e("jetpack/publicize");return{connections:e("core/editor").getEditedPostAttribute("jetpack_publicize_connections"),isTweetStorm:t(),tweetStormLength:n().length}})),(0,c.withDispatch)((e=>({setTweetstorm:t=>{e("core/editor").editPost({meta:{jetpack_is_tweetstorm:t}}),t?e("jetpack/publicize").refreshTweets():(e("core/annotations").__experimentalRemoveAnnotationsBySource("jetpack-tweetstorm"),e("core/annotations").__experimentalRemoveAnnotationsBySource("jetpack-tweetstorm-line-break"))}})))])((e=>{let{connections:t,isTweetStorm:n,tweetStormLength:r,setTweetstorm:c,prePublish:a}=e;const o=(0,s.useCallback)((e=>{c("tweetstorm"===e)}),[c]);if(!t?.some((e=>"twitter"===e.service_name&&e.enabled)))return null;const l=(e,t)=>React.createElement(React.Fragment,null,React.createElement("strong",null,e),React.createElement("br",null),t),u=[];return r>=102?u.push({id:"jetpack-publicize-twitter-tweetstorm-too-long",status:"error",content:__("Only the first 100 tweets of this post will be published in the Twitter thread.","jetpack-social"),isDismissible:!1}):r>=22?u.push({id:"jetpack-publicize-twitter-tweetstorm-a-bit-long",status:"warning",content:__("This post will create a Twitter thread more than 20 tweets long.","jetpack-social"),isDismissible:!1}):a&&r<=2&&u.push({id:"jetpack-publicize-twitter-tweetstorm-too-short",status:"warning",content:__("None of the content in this post could be transformed into tweets, it may be better to share as a single tweet.","jetpack-social"),isDismissible:!1}),React.createElement(i.PanelRow,null,React.createElement(i.RadioControl,{label:__("Twitter settings","jetpack-social"),selected:n?"tweetstorm":"single",options:[{label:l(__("Single Tweet","jetpack-social"),__("Share a link to this post to Twitter.","jetpack-social")),value:"single"},{label:l(__("Twitter Thread","jetpack-social"),__("Share the content of this post as a Twitter thread.","jetpack-social")),value:"tweetstorm"}],onChange:o}),n&&React.createElement(i.NoticeList,{className:"jetpack-publicize-twitter-options__notices",notices:u}))}))},6797:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(1020),r=n(5609),c=n(4333),s=n(9818),a=n(9307),o=n(2819);n(2998);class l extends a.Component{componentDidMount(){const{isTweetStorm:e,updateTweets:t}=this.props;e&&t()}componentDidUpdate(e){const{boundaries:t,childProps:n,currentAnnotations:i,isTweetStorm:r,updateAnnotations:c,updateTweets:s,supportedBlockType:a,contentAttributesChanged:l}=this.props;r&&a&&(l(e.childProps,n)&&s(),i.length===t.filter((e=>["normal","line-break"].includes(e.type))).length&&(0,o.isEqual)(e.boundaries,t)||c())}render(){const{ChildEdit:e,childProps:t,isTweetStorm:n,isSelectedTweetBoundary:c,boundaryStylesSelectors:s,popoverWarnings:a}=this.props;return n?React.createElement(React.Fragment,null,React.createElement(e,t),c&&React.createElement("div",{className:"jetpack-publicize-twitter__tweet-divider"},React.createElement("div",{className:"jetpack-publicize-twitter__tweet-divider-icon"},React.createElement(i.av,{serviceName:"twitter"})),a.length>0&&React.createElement(r.Popover,{className:"jetpack-publicize-twitter__tweet-divider-popover",focusOnMount:!1,position:"bottom center"},React.createElement("ol",null,a.map(((e,t)=>React.createElement("li",{key:`jetpack-publicize-twitter__tweet-divider-popover-warning-${t}`},e)))))),s&&React.createElement("style",{type:"text/css"},s.map((e=>`${e}::after {\n\t\t\t\t\t\t\t\tcontent: "";\n\t\t\t\t\t\t\t\tbackground: #0009;\n\t\t\t\t\t\t\t\twidth: 3px;\n\t\t\t\t\t\t\t\tdisplay: inline-block;\n\t\t\t\t\t\t\t\tmargin: 0 1px;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t.is-dark-theme ${e}::after {\n\t\t\t\t\t\t\t\tbackground: #fff9;\n\t\t\t\t\t\t\t}`)))):React.createElement(e,t)}}const u=(0,c.compose)([(0,s.withSelect)(((e,t)=>{let{childProps:n}=t;const{isTweetStorm:i,getPopoverWarnings:r,getBoundariesForBlock:c,getBoundaryStyleSelectors:s,isSelectedTweetBoundary:a,getSupportedBlockType:o,contentAttributesChanged:l}=e("jetpack/publicize"),u=e("core/annotations").__experimentalGetAllAnnotationsForBlock(n.clientId);return{isTweetStorm:i(),isSelectedTweetBoundary:a(n),boundaries:c(n.clientId),boundaryStylesSelectors:s(n.clientId),popoverWarnings:r(n),currentAnnotations:u,supportedBlockType:o(n.name),contentAttributesChanged:l}})),(0,s.withDispatch)(((e,t,n)=>{let{childProps:i}=t,{select:r}=n;return{updateTweets:()=>e("jetpack/publicize").refreshTweets(),updateAnnotations:()=>{const{contentAttributesChanged:t,getTweetsForBlock:n}=r("jetpack/publicize"),c=n(i.clientId);if(!c||0===c.length)return;if(t(c.reduce(((e,t)=>e||t.blocks.find((e=>e.clientId===i.clientId))),!1),i))return;r("core/annotations").__experimentalGetAllAnnotationsForBlock(i.clientId).forEach((t=>{["jetpack-tweetstorm","jetpack-tweetstorm-line-break"].includes(t.source)&&e("core/annotations").__experimentalRemoveAnnotation(t.id)}));c.filter((e=>e.boundary)).map((e=>e.boundary)).forEach((t=>{const{container:n,type:r,start:c,end:s}=t;"normal"===r?e("core/annotations").__experimentalAddAnnotation({blockClientId:i.clientId,source:"jetpack-tweetstorm",richTextIdentifier:n,range:{start:c,end:s}}):"line-break"===r&&e("core/annotations").__experimentalAddAnnotation({blockClientId:i.clientId,source:"jetpack-tweetstorm-line-break",richTextIdentifier:n,range:{start:c,end:s}})}))}}}))])(l)},6419:(e,t,n)=>{"use strict";n.d(t,{M:()=>a});var i=n(4333),r=n(9818),c=n(2238),s=n(9307);function a(e,t){const n=(0,r.useSelect)((e=>e(c.store).isPublishingPost()),[]),a=(0,i.usePrevious)(n);(0,s.useEffect)((()=>{a&&!n&&e()}),[n,a,e,t])}},7568:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(9818);function r(){const{refreshConnectionTestResults:e,toggleConnectionById:t}=(0,i.useDispatch)("jetpack/publicize"),n=(0,i.useSelect)((e=>e("jetpack/publicize").getConnections()),[]),r=n.filter((e=>!e.enabled)).map((e=>e.id));return{connections:n,hasConnections:n.length>0,hasEnabledConnections:n&&n.some((e=>e.enabled)),skippedConnections:r,toggleById:t,refresh:e}}},8751:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(9818),r=n(2238);function c(){const{editPost:e}=(0,i.useDispatch)(r.store),{message:t,maxLength:n}=(0,i.useSelect)((e=>({message:e("jetpack/publicize").getShareMessage(),maxLength:e("jetpack/publicize").getShareMessageMaxLength()})),[]);return{message:t,maxLength:n,updateMessage:function(t){e({meta:{jetpack_publicize_message:t}})}}}},2192:(e,t,n)=>{"use strict";n.r(t),n.d(t,{fetchFromAPI:()=>a,getTwitterCards:()=>u,refreshConnectionTestResults:()=>r,refreshTweets:()=>o,setTweets:()=>l,setTwitterCards:()=>p,toggleConnectionById:()=>c,togglePublicizeFeature:()=>s});var i=n(9818);function r(){return{type:"REFRESH_CONNECTION_TEST_RESULTS"}}function c(e){return{type:"TOGGLE_CONNECTION_BY_ID",connectionId:e}}function s(){return{type:"TOGGLE_PUBLICIZE_FEATURE"}}function a(e){return{type:"FETCH_FROM_API",path:e}}function o(){return{type:"REFRESH_TWEETS"}}function l(e){return{type:"SET_TWEETS",tweets:e}}function u(e){const{twitterCardIsCached:t}=(0,i.select)("jetpack/publicize");return{type:"GET_TWITTER_CARDS",urls:e.filter((e=>!t(e)))}}function p(e){return{type:"SET_TWITTER_CARDS",cards:e}}},9376:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(6989),r=n.n(i);const c={FETCH_FROM_API:e=>{let{path:t}=e;return r()({path:t})}}},3785:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>d});var i=n(3419),r=n(6989),c=n.n(r),s=n(4981),a=n(9818),o=n(2238),l=n(2819),u=n(8407);const p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const{getSupportedBlockType:t}=(0,a.select)("jetpack/publicize");return(0,l.flatMap)(e,(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t(e.name)||e.name.startsWith("core-embed/")?e:u.H8.includes(e.name)?p(e.innerBlocks):[]}))};const d={REFRESH_CONNECTION_TEST_RESULTS:async function(){try{const e=(0,i.Pb)()?.connectionRefreshPath??"/wpcom/v2/publicize/connection-test-results",t=await c()({path:e}),n=(0,a.select)("jetpack/publicize").getConnections(),r=t,s=[],l={done:!1,enabled:!0,toggleable:!0};for(const e of r){const t=n.find((t=>t.id===e.id)),{done:i,enabled:r,toggleable:c}=t??l,a={display_name:e.display_name,service_name:e.service_name,id:e.id,profile_picture:e.profile_picture,done:i,enabled:r,toggleable:c};s.push(a)}return(0,a.dispatch)(o.store).editPost({jetpack_publicize_connections:s})}catch(e){}},TOGGLE_CONNECTION_BY_ID:async function(e){let{connectionId:t}=e;const n=(0,a.select)("jetpack/publicize").getConnections().map((e=>({...e,enabled:e.id===t?!e.enabled:e.enabled})));return(0,a.dispatch)(o.store).editPost({jetpack_publicize_connections:n})},TOGGLE_PUBLICIZE_FEATURE:async function(){const e=(0,a.select)("jetpack/publicize").getFeatureEnableState();return(0,a.dispatch)(o.store).editPost({meta:{jetpack_publicize_feature_enabled:!e}})},REFRESH_TWEETS:(0,l.throttle)((async function(){const e=(0,a.select)("core/editor").getBlocks(),t=p(e);try{const e=await c()({path:"/wpcom/v2/tweetstorm/parse",data:{blocks:t.map((e=>({attributes:e.attributes,block:(0,s.serialize)(e),clientId:e.clientId})))},method:"POST"}),n=(0,l.flatMap)(e,(e=>e.urls));return(0,a.dispatch)("jetpack/publicize").getTwitterCards(n),(0,a.dispatch)("jetpack/publicize").setTweets(e)}catch(e){}}),2e3,{leading:!0,trailing:!0}),GET_TWITTER_CARDS:async function(e){if(0===e.urls.length)return(0,a.dispatch)("jetpack/publicize").setTwitterCards([]);try{const t=await c()({path:"/wpcom/v2/tweetstorm/generate-cards",data:{urls:e.urls},method:"POST"});return(0,a.dispatch)("jetpack/publicize").setTwitterCards(t)}catch(e){}}}},7771:(e,t,n)=>{"use strict";var i=n(9818),r=n(2192),c=n(9376),s=n(2479),a=n(2726),o=n(4074);const l=(0,i.registerStore)("jetpack/publicize",{actions:r,controls:c.Z,reducer:a.Z,selectors:o});(0,s.Z)(l)},2479:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(2819),r=n(4274),c=n.n(r),s=n(3785);function a(e){const t=[c()(s.ZP)];let n=()=>{throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},r=[];const a={getState:e.getState,dispatch:function(){return n(...arguments)}};return r=t.map((e=>e(a))),n=(0,i.flowRight)(...r)(e.dispatch),e.dispatch=n,e}},2726:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const i={tweets:[],twitterCards:[]};function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REFRESH_CONNECTION_TEST_RESULTS":case"TOGGLE_CONNECTION_BY_ID":case"TOGGLE_PUBLICIZE_FEATURE":return e;case"SET_TWEETS":return{...e,tweets:t.tweets};case"GET_TWITTER_CARDS":{const n={};return t.urls.forEach((e=>n[e]={error:"loading"})),{...e,twitterCards:{...e.twitterCards,...n}}}case"SET_TWITTER_CARDS":return{...e,twitterCards:{...e.twitterCards,...t.cards}}}return e}},4074:(e,t,n)=>{"use strict";n.r(t),n.d(t,{checkForTagsInContentAttributes:()=>R,contentAttributesChanged:()=>z,getBoundariesForBlock:()=>_,getBoundaryStyleSelectors:()=>T,getConnections:()=>P,getFailedConnections:()=>u,getFeatureEnableState:()=>Z,getFirstTweet:()=>m,getLastTweet:()=>b,getMustReauthConnections:()=>p,getPopoverWarnings:()=>S,getShareMessage:()=>v,getShareMessageMaxLength:()=>E,getSupportedBlockType:()=>f,getTweetStorm:()=>h,getTweetTemplate:()=>d,getTweetsForBlock:()=>g,getTwitterCardForURLs:()=>w,isSelectedTweetBoundary:()=>j,isTweetStorm:()=>k,twitterCardIsCached:()=>y});var i=n(9818),r=n(2238),c=n(5736),s=n(2819),a=n(6524),o=n(8407);const __=c.__,l="\n\n"+__("A thread ⬇️","jetpack-social");function u(){return P().filter((e=>!1===e.test_success))}function p(){return P().filter((e=>"must_reauth"===e.test_success)).map((e=>e.service_name))}function d(e){const t=(e.connections||P())?.find((e=>"twitter"===e.service_name));return{date:Date.now(),name:t?.profile_display_name||__("Account Name","jetpack-social"),profileImage:t?.profile_picture||"https://abs.twimg.com/sticky/default_profile_images/default_profile_bigger.png",screenName:t?.display_name||""}}function h(e){const t=d(e),n=[m(e),...e.tweets.slice(0,100).map((n=>({...t,text:n.text,media:n.media,tweet:n.tweet,urls:n.urls,card:w(e,n.urls)})))];return n.length>1&&n.push(b(e)),n}function m(e){if(!(0,i.select)("core"))return;const t=d(e),{getMedia:n}=(0,i.select)("core"),{getEditedPostAttribute:r}=(0,i.select)("core/editor"),c=r("featured_media"),s=r("link"),a=c&&n(c),o=a?.media_details?.sizes?.large?.source_url||a?.source_url;return{...t,text:v()+` ${s}`,urls:[s],card:{title:r("title"),description:r("meta")?.advanced_seo_description||r("excerpt")||r("content").split("\x3c!--more")[0]||__("Visit the post for more.","jetpack-social"),url:s,image:o,type:o?"summary_large_image":"summary"}}}function b(e){if(!(0,i.select)("core/editor"))return;const{getEditedPostAttribute:t}=(0,i.select)("core/editor"),n=t("link"),r=e.tweets.length>100?__("The rest of this thread can be read here:","jetpack-social"):__("This thread can be read here:","jetpack-social");return{...m(e),text:`${r} ${n}`}}function f(e,t){if(o.nE[t])return o.nE[t]}const g=(0,a.Z)(((e,t)=>e.tweets.filter((e=>!!e.blocks.find((e=>e.clientId===t))))),(e=>[e.tweets]));function w(e,t){if(t)return t.reduce(((t,n)=>t||(e.twitterCards[n]&&!e.twitterCards[n].error?{url:n,...e.twitterCards[n]}:void 0)),void 0)}function y(e,t){return!!e.twitterCards[t]}function v(){const{getEditedPostAttribute:e}=(0,i.select)("core/editor"),t=e("meta"),n=e("title"),r=(0,s.get)(t,["jetpack_publicize_message"],"");return r?r.substr(0,E()):k()&&n?n.substr(0,E())+l:""}function E(){return k()?255-l.length:255}function k(){return!!(0,i.select)("core/editor").getEditedPostAttribute("meta")?.jetpack_is_tweetstorm}const _=(0,a.Z)(((e,t)=>{if(!k())return[];const n=g(e,t);return n&&0!==n.length?n.filter((e=>e.boundary)).map((e=>e.boundary)):[]}),(e=>[e.tweets]));function C(e,t){if(`block-${t}`===e.id)return`#block-${t}`;const n=e.parentNode,i=Array.prototype.indexOf.call(n.children,e);return C(n,t)+` > :nth-child( ${i+1} )`}const T=(0,a.Z)(((e,t)=>{const n=_(e,t),i=document.getElementById(`block-${t}`);return n.filter((e=>"end-of-line"===e.type)).map((e=>{if(!i)return!1;const n=i.getElementsByTagName("li").item(e.line);return!!n&&C(n,t)})).filter((e=>!!e))}),(e=>[e.tweets]));function R(e,t,n){if(0===n.length)return!1;if(!f(0,t.name)?.contentAttributes)return!1;const i=new RegExp(`<(${n.join("|")})( |>|/>)`,"gi");return f(0,t.name).contentAttributes.reduce(((e,n)=>!!e||i.test(t.attributes[n])),!1)}const S=(0,a.Z)(((e,t)=>{const{isTyping:n,isDraggingBlocks:r,isMultiSelecting:c,hasMultiSelection:s,isCaretWithinFormattedText:a}=(0,i.select)("core/block-editor");if(!k())return[];if(n()||r()||c()||s()||a())return[];const l=[];return f(0,t.name)||o.H8[t.name]?("core/gallery"===t.name&&t.attributes.images.length>4&&l.push(__("Twitter displays the first four images.","jetpack-social")),R(0,t,["strong","bold","em","i","sup","sub","span","s"])&&l.push(__("Twitter removes all text formatting.","jetpack-social")),R(0,t,["a"])&&l.push(__("Links will be posted seperately.","jetpack-social"))):l.push(__("This block is not exportable to Twitter","jetpack-social")),l}),(e=>[e.tweets]));function j(e,t){const{isBlockSelected:n}=(0,i.select)("core/block-editor");if(!k())return!1;const r=f(0,t.name),c=g(e,t.clientId);if(!c||0===c.length)return!1;const s=c[c.length-1];return n(t.clientId)&&!r||s.blocks[s.blocks.length-1].clientId===t.clientId&&c.some((e=>e.blocks.some((e=>n(e.clientId)))))}function z(e,t,n){const i=f(0,n.name);if(!i)return!1;const r=i.contentAttributes;return!(0,s.isEqual)(r.map((e=>({attribute:e,content:t.attributes[e]}))),r.map((e=>({attribute:e,content:n.attributes[e]}))))}function P(){return(0,i.select)(r.store).getEditedPostAttribute("jetpack_publicize_connections")||[]}function Z(){const{getEditedPostAttribute:e}=(0,i.select)(r.store),t=e("meta");return(0,s.get)(t,["jetpack_publicize_feature_enabled"],!0)}},3419:(e,t,n)=>{"use strict";n.d(t,{Pb:()=>i.Z,lQ:()=>r.Z});var i=n(148),r=n(5004);n(6714),n(354),n(5404)},148:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});function i(){return"object"==typeof window?window?.Jetpack_Editor_Initial_State??null:null}},5004:(e,t,n)=>{"use strict";function i(){return window&&window.Jetpack_Editor_Initial_State&&window.Jetpack_Editor_Initial_State.siteFragment?window.Jetpack_Editor_Initial_State.siteFragment:null}n.d(t,{Z:()=>i})},5404:(e,t,n)=>{"use strict";var i=n(5736);n(6483),n(2819);const __=i.__;__("Upgrade your plan to use video covers","jetpack-social"),__("Upgrade your plan to upload audio","jetpack-social")},6714:(e,t,n)=>{"use strict";n(8817)},354:(e,t,n)=>{"use strict";n(2402),n(4333)},8566:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(5736);const __=i.__,r={start:__("Start sharing your posts by connecting your social media accounts.","jetpack-social"),enabled:__("This post will be shared on all your enabled social media accounts the moment you publish the post.","jetpack-social"),disabled:__("Use this tool to share your post on all your social media accounts.","jetpack-social"),published:__("Posts can only be shared as they are first published.","jetpack-social")},c=e=>React.createElement("div",null,(e=>{let{isPostPublished:t,isPublicizeEnabled:n,hasConnections:i,hasEnabledConnections:c}=e;return i?t?r.published:n&&c?r.enabled:r.disabled:r.start})(e))},9281:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(4356),r=n(5609),c=n(9818),s=n(2238),a=n(9307),o=n(5736),l=n(8566);const __=o.__,u=e=>{let{prePublish:t}=e;const{refresh:n,hasConnections:o,hasEnabledConnections:u}=(0,i.oL)(),p=(0,c.useSelect)((e=>e(s.store).isCurrentPostPublished()),[]),d=(0,c.useSelect)((e=>e("jetpack/publicize").getFeatureEnableState()),[]),{togglePublicizeFeature:h}=(0,c.useDispatch)("jetpack/publicize");(0,i.M1)((function(){u&&n()}),[u,n]);const m=t?a.Fragment:r.PanelBody,b=t?{}:{title:__("Share this post","jetpack-social")};return React.createElement(m,b,React.createElement(l.Z,{isPublicizeEnabled:d,isPostPublished:p,hasConnections:o,hasEnabledConnections:u}),React.createElement(a.Fragment,null,!p&&React.createElement(r.PanelRow,null,React.createElement(r.ToggleControl,{className:"jetpack-publicize-toggle",label:d?__("Share when publishing","jetpack-social"):__("Sharing is disabled","jetpack-social",0),onChange:h,checked:d,disabled:!o})),React.createElement(i.dZ,null),React.createElement(i.l0,{isPublicizeEnabled:d,isRePublicizeFeatureEnabled:!p})))}},9196:e=>{"use strict";e.exports=window.React},2819:e=>{"use strict";e.exports=window.lodash},2998:e=>{"use strict";e.exports=window.wp.annotations},6989:e=>{"use strict";e.exports=window.wp.apiFetch},4981:e=>{"use strict";e.exports=window.wp.blocks},5609:e=>{"use strict";e.exports=window.wp.components},4333:e=>{"use strict";e.exports=window.wp.compose},9818:e=>{"use strict";e.exports=window.wp.data},7701:e=>{"use strict";e.exports=window.wp.domReady},2067:e=>{"use strict";e.exports=window.wp.editPost},2238:e=>{"use strict";e.exports=window.wp.editor},9307:e=>{"use strict";e.exports=window.wp.element},2694:e=>{"use strict";e.exports=window.wp.hooks},5736:e=>{"use strict";e.exports=window.wp.i18n},8817:e=>{"use strict";e.exports=window.wp.plugins},6483:e=>{"use strict";e.exports=window.wp.url},6524:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i={};function r(e){return[e]}function c(e,t,n){var i;if(e.length!==t.length)return!1;for(i=n;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}function s(e,t){var n,s=t||r;function a(e){var t,r,c,s,a,o=n,l=!0;for(t=0;t<e.length;t++){if(r=e[t],!(a=r)||"object"!=typeof a){l=!1;break}o.has(r)?o=o.get(r):(c=new WeakMap,o.set(r,c),o=c)}return o.has(i)||((s=function(){var e={clear:function(){e.head=null}};return e}()).isUniqueByDependants=l,o.set(i,s)),o.get(i)}function o(){n=new WeakMap}function l(){var t,n,i,r,o,l=arguments.length;for(r=new Array(l),i=0;i<l;i++)r[i]=arguments[i];for((t=a(o=s.apply(null,r))).isUniqueByDependants||(t.lastDependants&&!c(o,t.lastDependants,0)&&t.clear(),t.lastDependants=o),n=t.head;n;){if(c(n.args,r,1))return n!==t.head&&(n.prev.next=n.next,n.next&&(n.next.prev=n.prev),n.next=t.head,n.prev=null,t.head.prev=n,t.head=n),n.val;n=n.next}return n={val:e.apply(null,r)},r[0]=null,n.args=r,t.head&&(t.head.prev=n,n.next=t.head),t.head=n,n.val}return l.getDependants=s,l.clear=o,o(),l}}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var c=t[i]={exports:{}};return e[i](c,c.exports,n),c.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e=n(1020),t=n(9818),i=n(7701),r=n.n(i),c=n(2067),s=n(2238),a=n(5736),o=n(8817),l=n(6483),u=n(9281);const __=a.__;r()((()=>{"true"===(0,l.getQueryArg)(window.location.search,"jetpackSidebarIsOpen")&&(0,t.dispatch)("core/interface").enableComplementaryArea("core/edit-post","jetpack-social-sidebar/jetpack-social")})),(0,o.registerPlugin)("jetpack-social",{render:()=>React.createElement(s.PostTypeSupportCheck,{supportKeys:"publicize"},React.createElement(c.PluginSidebarMoreMenuItem,{target:"jetpack-social",icon:React.createElement(e.QZ,null)},"Jetpack Social"),React.createElement(c.PluginSidebar,{name:"jetpack-social",title:"Jetpack Social",icon:React.createElement(e.QZ,null)},React.createElement(u.Z,null)),React.createElement(c.PluginPrePublishPanel,{initialOpen:!0,id:"publicize-title",title:React.createElement("span",{id:"publicize-defaults",key:"publicize-title-span"},__("Share this post","jetpack-social"))},React.createElement(u.Z,{prePublish:!0})))})})()})();